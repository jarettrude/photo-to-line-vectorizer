[lint]
select = ["E", "F", "W", "I", "N", "UP", "B", "A", "C4", "DTZ", "T10", "EM", "ISC", "ICN", "PIE", "PYI", "Q", "RSE", "RET", "SIM", "TID", "TCH", "ARG", "PTH", "PD", "PGH", "PL", "TRY", "NPY", "RUF"]
# E501: Line too long (handled by formatter)
# B008: FastAPI Depends() in defaults is idiomatic
# TRY301: FastAPI HTTPException pattern
# TRY401: Logging with exception context
ignore = ["E501", "B008", "TRY301", "TRY401"]

[lint.per-file-ignores]
"__init__.py" = ["F401"]
# API endpoints use Request for rate limiting (required by slowapi)
# Global processor for ML model lazy loading
"app/api/endpoints.py" = ["ARG001", "PLC0415", "A002", "PLW0603"]
# API models use magic numbers for validation ranges
"app/api/models.py" = ["PLR2004"]
# Auth uses FastAPI patterns with Depends
"app/auth/*" = ["ARG002", "PLC0415", "TRY300", "B904"]
# Pipeline modules may need late imports for optional dependencies
# Main app lifespan parameter required by FastAPI
"app/main.py" = ["ARG001"]
# Models use short variable names and PyTorch conventions
"app/models/*" = ["N812", "E741", "PLR2004"]
# Preprocessor uses standard CV variable names
"app/pipeline/preprocess.py" = ["RUF012", "E741"]
# Storage uses globals for singleton pattern
"app/storage/*" = ["PLW0603", "PLW0602", "ARG002"]
# Extension system uses intentional EXT_* and PRV_* naming
"app/extensions/*/EXT_*.py" = ["N999", "N801"]
"app/extensions/*/PRV_*.py" = ["N999", "N801", "ARG003", "PLR0913", "PLC0415", "TRY300"]
# Extension registry uses dynamic imports
"app/extensions/registry.py" = ["PLC0415", "B007", "TRY300"]
# Tests use imports inside functions, unused hook args, magic numbers
"tests/*" = ["ARG", "PLC0415", "PIE810", "PLR2004"]
# Pipeline exports use late imports and complex params
"app/pipeline/export.py" = ["ARG002", "PLR0913", "PLC0415", "F401"]
# Pipeline optimize uses complex params and reserved args
"app/pipeline/optimize.py" = ["ARG002", "PLR0913"]
# Pipeline processor uses late imports for dependency management
"app/pipeline/processor.py" = ["PLC0415"]
# Hatching uses canvas params for future features
"app/pipeline/hatching.py" = ["ARG002"]
# Vectorize extension uses late imports to avoid circular deps
"app/extensions/vectorize/EXT_Vectorize.py" = ["PLC0415"]

[format]
quote-style = "double"
indent-style = "space"
line-ending = "lf"

